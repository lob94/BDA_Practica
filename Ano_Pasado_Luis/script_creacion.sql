DROP TABLE QUEJA;
DROP TABLE CLIENTE;
DROP TABLE EMPLEADO;


CREATE TABLE CLIENTE(
	DNI VARCHAR2(9) CONSTRAINT PK_CLIENTE PRIMARY KEY,
	N_CLIENTE VARCHAR2(20) NOT NULL,
	A1_CLIENTE VARCHAR2(25) NOT NULL,
	A2_CLIENTE VARCHAR2(25),
	TELF_CLIENTE VARCHAR2(12) NOT NULL,
	DIR_CLIENTE VARCHAR2(65) NOT NULL,
	COD_POSTAL_CLIENTE NUMBER(6) NOT NULL);

CREATE TABLE EMPLEADO(
	ID_EMPLEADO NUMBER(4) CONSTRAINT PK_EMPLEADO PRIMARY KEY,
	N_EMPLEADO VARCHAR2(20) NOT NULL,
	A1_EMPLEADO VARCHAR2(25) NOT NULL,
	A2_EMPLEADO VARCHAR2(25),
	TELF_EMPLEADO VARCHAR2(12) NOT NULL,
	DIR_EMPLEADO VARCHAR2(65) NOT NULL,
	SAL_EMPLEADO NUMBER(6) NOT NULL);

CREATE TABLE QUEJA(
	ID_QUEJA NUMBER(4) CONSTRAINT PK_QUEJA PRIMARY KEY,
	PROBLEMA VARCHAR2(300) NOT NULL,
	DNI VARCHAR2(9) ,
	ID_EMPLEADO NUMBER(4), 
	CONSTRAINT FK_DNI FOREIGN KEY (DNI) REFERENCES CLIENTE(DNI),
	CONSTRAINT FK_ID_EMPLEADO FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADO(ID_EMPLEADO));

INSERT INTO CLIENTE VALUES
	('12345678A', 'PEPITO', 'DIAZ', 'DIAZ', '981234578', 'C/ MONTEALEGRE 23', 15060);
INSERT INTO CLIENTE VALUES
	('23456789B', 'MARIO', 'ALVAREZ', 'ALVAREZ', '981235212', 'C/ BUENAVISTA 5', 15063);
INSERT INTO CLIENTE VALUES
	('34567890C', 'MANUEL', 'HERRERO', 'DIAZ', '981674821', 'C/ SALVADOR 9', 15061);
INSERT INTO CLIENTE VALUES
	('45678901D', 'LUIS', 'RAMIREZ', 'HERRERO', '981746352', 'C/ MONTELLANO 10', 15061);
INSERT INTO CLIENTE VALUES
	('56789012E', 'JUAN', 'FERREIRO', 'SANTO', '981345789', 'C/ MONTELLANO 11', 15061);

INSERT INTO EMPLEADO VALUES
	(1234, 'JOSE', 'MARTINEZ', 'VILLA', '981282510', 'C/ ALEGRIA 20', 500);
INSERT INTO EMPLEADO VALUES
	(2345, 'MARIO', 'OJEA', NULL, '981999111', 'C/ BUENDIA 40', 700);
INSERT INTO EMPLEADO VALUES
	(3456, 'MARINA', 'HERNANDEZ', 'FERNANDEZ', '981675551', 'C/ QUINTA 6', 850);
